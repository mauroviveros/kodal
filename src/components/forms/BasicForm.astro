---
import { Card, Input } from '@components/ui';
import type { Pet } from '@types';
import { toInputDateValue } from '@utils';

interface Props {
  pet: Pet;
}

const { pet } = Astro.props;
---

<Card>
  <h4 class="text-lg font-bold">Información Básica</h4>

  <div
    class="grid grid-cols-1 gap-4 md:grid-cols-2 [&>article]:flex [&>article]:flex-col [&>article]:gap-2"
  >
    <Input
      type="text"
      name="name"
      id="name"
      class="md:col-span-2"
      aria-label="Nombre"
      value={pet.name}
      maxlength="25"
      required
    />

    <fieldset class="flex flex-col gap-2">
      <label for="species" class="text-sm">Animal<span class="text-primary">*</span></label>
      <select name="species" id="species" required>
        {
          [
            { value: 'cat', label: 'Gato' },
            { value: 'dog', label: 'Perro' },
            { value: 'other', label: 'Otro' },
          ].map(({ value, label }) => (
            <option value={value} selected={(pet.species || 'other') === value}>
              {label}
            </option>
          ))
        }
      </select>
    </fieldset>

    <Input type="text" name="breed" id="breed" aria-label="Raza" value={pet.breed} maxlength="25" />

    <Input
      type="date"
      name="birthdate"
      id="birthdate"
      aria-label="Fecha de nacimiento"
      value={pet.birthdate && toInputDateValue(pet.birthdate)}
      max={toInputDateValue(new Date())}
    />

    <Input
      type="number"
      name="weight"
      id="weight"
      aria-label="Peso"
      value={pet.weight}
      min="0"
      max="99"
      step="0.1"
    >
      <span>kg</span>
    </Input>
  </div>
</Card>
