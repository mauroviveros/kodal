---
import type { HTMLAttributes } from 'astro/types';
import Fieldset from './Fieldset.astro';

interface Props extends HTMLAttributes<'input'> {
  label?: string;
  description?: string;
  error?: string;
}

const classes = [
  'focus:ring-ring h-10 rounded-lg border bg-black/5 p-1 text-sm focus:ring-2 focus:outline-none',
  'file:bg-primary/10 file:text-primary hover:file:bg-primary/20 hover:file:text-primary/90',
  'file:cursor-pointer file:h-full file:px-4 file:rounded-lg file:text-sm',
];

const { id, label, description, error, class: className, ...props } = Astro.props;
---

<Fieldset
  input={id?.toString()}
  required={Boolean(props.required)}
  description={description}
  class:list={[className]}
  label={label}
  error={error}
>
  <input id={id?.toString()} class:list={[classes]} {...props} />
  <slot />
</Fieldset>
