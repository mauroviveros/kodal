---
import Layout from '@layout';
import { Icon } from 'astro-icon/components';
---

<Layout
  class="from-primary/10 via-background to-secondary/10 items-center justify-center bg-linear-to-br p-4"
  withContainer={false}
  showFooter={false}
  showHeader={false}
>
  <article class="card max-w-md">
    <header class="card-header text-center">
      <span class="bg-primary text-on-primary mx-auto mb-4 w-fit rounded-full p-4">
        <Icon name="lucide:shield" class="size-8" />
      </span>
      <div>
        <h2 class="card-title">Panel de Administraci√≥n</h2>
        <p class="card-description">Acceso exclusivo para administradores autorizados</p>
      </div>
    </header>
    <form action="/api/auth/signin" method="POST" class="card-content space-y-6">
      <input type="hidden" name="provider" value="github" />
      <input type="hidden" name="redirectTo" value={Astro.url.searchParams.get('redirectTo')} />

      <button type="submit" class="btn btn-outline btn-lg h-12 w-full">
        <Icon name="devicon:github" class="size-5" />
        <span class="text-base font-medium">Continuar con GitHub</span>
      </button>

      <div
        class="before:border-on-muted relative flex justify-center text-xs uppercase before:absolute before:top-1/2 before:w-full before:border-t"
      >
        <span class="text-on-muted bg-card z-0 px-2">Acceso restringido</span>
      </div>

      <div class="bg-muted/50 space-y-2 rounded-lg p-4">
        <p class="text-on-muted text-center text-sm">
          Solo los administradores autorizados pueden acceder a este panel. El acceso se verifica
          mediante tu cuenta de GitHub corporativa.
        </p>
      </div>

      <div class="text-center">
        <a href="/">Volver al inicio </a>
      </div>
    </form>
  </article>
</Layout>
